<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>em-odp: Events</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doc-stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">em-odp
   &#160;<span id="projectnumber">2.2.0</span>
   </div>
   <div id="projectbrief">Event Machine on ODP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/d33/group__em__event.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Events</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga15a17cee0e5de5062e78f7db2b836761"><td class="memItemLeft" align="right" valign="top">em_event_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d33/group__em__event.html#ga15a17cee0e5de5062e78f7db2b836761">em_alloc</a> (size_t size, <a class="el" href="../../d4/d11/event__machine__types_8h.html#a2f5b3fb43add8103da34b52cc1d0f2cc">em_event_type_t</a> type, em_pool_t pool)</td></tr>
<tr class="separator:ga15a17cee0e5de5062e78f7db2b836761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4f97ba217518d967f8078c56023c4d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d33/group__em__event.html#gad4f97ba217518d967f8078c56023c4d4">em_free</a> (em_event_t event)</td></tr>
<tr class="separator:gad4f97ba217518d967f8078c56023c4d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca4584a01b71429dfbb045342454b464"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d33/group__em__event.html#gaca4584a01b71429dfbb045342454b464">em_send</a> (em_event_t event, em_queue_t queue)</td></tr>
<tr class="separator:gaca4584a01b71429dfbb045342454b464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9638f26de144eaddb6adbc00d808501"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d33/group__em__event.html#gac9638f26de144eaddb6adbc00d808501">em_send_multi</a> (em_event_t *const events, int num, em_queue_t queue)</td></tr>
<tr class="separator:gac9638f26de144eaddb6adbc00d808501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f701c3a5901fc81d922b9d1d02691e3"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d33/group__em__event.html#ga8f701c3a5901fc81d922b9d1d02691e3">em_event_pointer</a> (em_event_t event)</td></tr>
<tr class="separator:ga8f701c3a5901fc81d922b9d1d02691e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga340201d520d7842919e7e3d9c4a6e114"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d33/group__em__event.html#ga340201d520d7842919e7e3d9c4a6e114">em_event_get_size</a> (em_event_t event)</td></tr>
<tr class="separator:ga340201d520d7842919e7e3d9c4a6e114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91a1f77b8cd188c0d37cb1941a55f1b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d33/group__em__event.html#ga91a1f77b8cd188c0d37cb1941a55f1b1">em_event_set_type</a> (em_event_t event, <a class="el" href="../../d4/d11/event__machine__types_8h.html#a2f5b3fb43add8103da34b52cc1d0f2cc">em_event_type_t</a> newtype)</td></tr>
<tr class="separator:ga91a1f77b8cd188c0d37cb1941a55f1b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaab47111801094f57ba20c0bc1e8d3b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#a2f5b3fb43add8103da34b52cc1d0f2cc">em_event_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d33/group__em__event.html#gaaab47111801094f57ba20c0bc1e8d3b7">em_event_get_type</a> (em_event_t event)</td></tr>
<tr class="separator:gaaab47111801094f57ba20c0bc1e8d3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Operations on an event.</p>
<p>All application processing is driven by events in the Event Machine. An event describes a piece of work. The structure of an event is implementation and event type specific: it may be a directly accessible buffer of memory, a descriptor containing a list of buffer pointers, a descriptor of a packet buffer etc.</p>
<p>Applications use the event type to interpret the event structure.</p>
<p>Events follow message passing semantics: an event has to be allocated using the provided API (<a class="el" href="../../d5/d33/group__em__event.html#ga15a17cee0e5de5062e78f7db2b836761">em_alloc()</a>) or received through queues by an EO callback function after which the event is owned by the application. Event ownership is transferred back to the system by using <a class="el" href="../../d5/d33/group__em__event.html#gaca4584a01b71429dfbb045342454b464">em_send()</a> or <a class="el" href="../../d5/d33/group__em__event.html#gad4f97ba217518d967f8078c56023c4d4">em_free()</a>. An event not owned by the application should not be touched.</p>
<p>Since em_event_t may not carry a direct pointer value to the event structure, <a class="el" href="../../d5/d33/group__em__event.html#ga8f701c3a5901fc81d922b9d1d02691e3">em_event_pointer()</a> must be used to translate an event to an event structure pointer (for maintaining portability).</p>
<p>em_event_t is defined in <a class="el" href="../../d4/d11/event__machine__types_8h.html">event_machine_types.h</a></p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d33/group__em__event.html#ga8f701c3a5901fc81d922b9d1d02691e3">em_event_pointer()</a> </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga15a17cee0e5de5062e78f7db2b836761"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_event_t em_alloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d11/event__machine__types_8h.html#a2f5b3fb43add8103da34b52cc1d0f2cc">em_event_type_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_pool_t&#160;</td>
          <td class="paramname"><em>pool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate an event.</p>
<p>The memory address of the allocated event is system specific and can depend on the given pool id, the event size and type. The returned event (handle) may refer to a memory buffer or a HW specific descriptor, i.e. the event structure is system specific.</p>
<p>Use <a class="el" href="../../d5/d33/group__em__event.html#ga8f701c3a5901fc81d922b9d1d02691e3">em_event_pointer()</a> to convert an event (handle) to a pointer to an event structure.</p>
<p>EM_EVENT_TYPE_SW with minor type '0' is reserved for direct portability. It is always guaranteed to return a 64-bit aligned contiguous data buffer, that can directly be used by the application up to the given size (no HW specific descriptors etc. are visible).</p>
<p>EM_POOL_DEFAULT can be used as pool handle if there's no need to use a specific memory pool.</p>
<p>Additionally it is guaranteed, that two separate buffers never share a cache line (to avoid false sharing).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Event size in octets (size &gt; 0) </td></tr>
    <tr><td class="paramname">type</td><td>Event type to allocate </td></tr>
    <tr><td class="paramname">pool</td><td>Event pool handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The allocated event or EM_EVENT_UNDEF on error.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d33/group__em__event.html#gad4f97ba217518d967f8078c56023c4d4">em_free()</a>, <a class="el" href="../../d5/d33/group__em__event.html#gaca4584a01b71429dfbb045342454b464">em_send()</a>, <a class="el" href="../../d5/d33/group__em__event.html#ga8f701c3a5901fc81d922b9d1d02691e3">em_event_pointer()</a>, <a class="el" href="../../d8/d5f/group__em__eo.html#ga63161b6f46fb08a1708bad6c1fde2622">em_receive_func_t()</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../dd/d24/atomic_processing_end_8c-example.html#a23">atomic_processing_end.c</a>, <a class="el" href="../../d9/d6a/dispatcher_callback_8c-example.html#a38">dispatcher_callback.c</a>, <a class="el" href="../../d9/d32/error_8c-example.html#a23">error.c</a>, <a class="el" href="../../d5/d77/event_group_8c-example.html#a27">event_group.c</a>, <a class="el" href="../../d0/dba/event_group_abort_8c-example.html#a6">event_group_abort.c</a>, <a class="el" href="../../da/daa/event_group_assign_end_8c-example.html#a22">event_group_assign_end.c</a>, <a class="el" href="../../d4/d81/event_group_chaining_8c-example.html#a27">event_group_chaining.c</a>, <a class="el" href="../../d1/d25/fractal_8c-example.html#a32">fractal.c</a>, <a class="el" href="../../d5/dfc/hello_8c-example.html#a32">hello.c</a>, <a class="el" href="../../d4/d14/ordered_8c-example.html#a24">ordered.c</a>, <a class="el" href="../../d7/dbc/pairs_8c-example.html#a19">pairs.c</a>, <a class="el" href="../../d8/dc3/queue_group_8c-example.html#a28">queue_group.c</a>, <a class="el" href="../../d6/dd3/queue_groups_8c-example.html#a35">queue_groups.c</a>, <a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a31">queue_types_ag.c</a>, <a class="el" href="../../db/dcf/queue_types_local_8c-example.html#a36">queue_types_local.c</a>, <a class="el" href="../../d6/d76/queues_8c-example.html#a21">queues.c</a>, <a class="el" href="../../d0/d69/queues_local_8c-example.html#a21">queues_local.c</a>, <a class="el" href="../../d1/ddd/queues_unscheduled_8c-example.html#a27">queues_unscheduled.c</a>, <a class="el" href="../../de/daa/send_multi_8c-example.html#a27">send_multi.c</a>, <a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a33">timer_hello.c</a>, and <a class="el" href="../../dd/d10/timer_test_8c-example.html#a35">timer_test.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="../../da/d32/event__machine__event_8c_source.html#l00034">34</a> of file <a class="el" href="../../da/d32/event__machine__event_8c_source.html">event_machine_event.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga340201d520d7842919e7e3d9c4a6e114"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t em_event_get_size </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the size of the given event</p>
<p>The event content is not defined by the OpenEM API, thus this returns an event type specific value (the exception and a defined case is EM_EVENT_TYPE_SW + minor 0, in which case the usable size of the allocated contiguous memory buffer is returned).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>Event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Event type specific value typically payload size (bytes). </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d6/d76/queues_8c-example.html#a38">queues.c</a>, <a class="el" href="../../d0/d69/queues_local_8c-example.html#a39">queues_local.c</a>, <a class="el" href="../../d1/ddd/queues_unscheduled_8c-example.html#a30">queues_unscheduled.c</a>, and <a class="el" href="../../de/daa/send_multi_8c-example.html#a30">send_multi.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="../../da/d32/event__machine__event_8c_source.html#l00417">417</a> of file <a class="el" href="../../da/d32/event__machine__event_8c_source.html">event_machine_event.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaaab47111801094f57ba20c0bc1e8d3b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#a2f5b3fb43add8103da34b52cc1d0f2cc">em_event_type_t</a> em_event_get_type </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get event type of an existing event</p>
<p>Returns the type of the given event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>Event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>event type, EM_EVENT_TYPE_UNDEF on error </dd></dl>

<p>Definition at line <a class="el" href="../../da/d32/event__machine__event_8c_source.html#l00467">467</a> of file <a class="el" href="../../da/d32/event__machine__event_8c_source.html">event_machine_event.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga8f701c3a5901fc81d922b9d1d02691e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* em_event_pointer </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a pointer to the event structure</p>
<p>Returns a pointer to the event structure or NULL. The event structure is implementation and event type specific. It may be a directly accessible buffer of memory, a descriptor containing a list of buffer pointers, a descriptor of a packet buffer, etc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>Event from receive/alloc</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Event pointer or NULL </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../dd/d24/atomic_processing_end_8c-example.html#a26">atomic_processing_end.c</a>, <a class="el" href="../../d9/d6a/dispatcher_callback_8c-example.html#a41">dispatcher_callback.c</a>, <a class="el" href="../../d9/d32/error_8c-example.html#a26">error.c</a>, <a class="el" href="../../d5/d77/event_group_8c-example.html#a30">event_group.c</a>, <a class="el" href="../../d0/dba/event_group_abort_8c-example.html#a9">event_group_abort.c</a>, <a class="el" href="../../da/daa/event_group_assign_end_8c-example.html#a25">event_group_assign_end.c</a>, <a class="el" href="../../d4/d81/event_group_chaining_8c-example.html#a30">event_group_chaining.c</a>, <a class="el" href="../../d1/d25/fractal_8c-example.html#a34">fractal.c</a>, <a class="el" href="../../d5/dfc/hello_8c-example.html#a35">hello.c</a>, <a class="el" href="../../d4/d14/ordered_8c-example.html#a27">ordered.c</a>, <a class="el" href="../../d8/dc3/queue_group_8c-example.html#a31">queue_group.c</a>, <a class="el" href="../../d6/dd3/queue_groups_8c-example.html#a38">queue_groups.c</a>, <a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a34">queue_types_ag.c</a>, <a class="el" href="../../db/dcf/queue_types_local_8c-example.html#a39">queue_types_local.c</a>, <a class="el" href="../../d6/d76/queues_8c-example.html#a24">queues.c</a>, <a class="el" href="../../d0/d69/queues_local_8c-example.html#a24">queues_local.c</a>, <a class="el" href="../../d1/ddd/queues_unscheduled_8c-example.html#a31">queues_unscheduled.c</a>, <a class="el" href="../../de/daa/send_multi_8c-example.html#a31">send_multi.c</a>, <a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a36">timer_hello.c</a>, and <a class="el" href="../../dd/d10/timer_test_8c-example.html#a38">timer_test.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="../../da/d32/event__machine__event_8c_source.html#l00380">380</a> of file <a class="el" href="../../da/d32/event__machine__event_8c_source.html">event_machine_event.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga91a1f77b8cd188c0d37cb1941a55f1b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_event_set_type </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d11/event__machine__types_8h.html#a2f5b3fb43add8103da34b52cc1d0f2cc">em_event_type_t</a>&#160;</td>
          <td class="paramname"><em>newtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the event type of an existing event</p>
<p>This will not create a new event but the existing event might be modified. The operation may fail if the new type is not compatible with the old one. As event content is not defined by the OpenEM API the compatibility is system specific.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>Event handle </td></tr>
    <tr><td class="paramname">newtype</td><td>New type for the event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EM_OK on success</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d33/group__em__event.html#ga15a17cee0e5de5062e78f7db2b836761">em_alloc()</a> </dd></dl>

<p>Definition at line <a class="el" href="../../da/d32/event__machine__event_8c_source.html#l00447">447</a> of file <a class="el" href="../../da/d32/event__machine__event_8c_source.html">event_machine_event.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad4f97ba217518d967f8078c56023c4d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void em_free </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free an event.</p>
<p>It is assumed that the implementation can detect the memory area/pool that the event was originally allocated from.</p>
<p>The <a class="el" href="../../d5/d33/group__em__event.html#gad4f97ba217518d967f8078c56023c4d4">em_free()</a> function transfers ownership of the event back to the system and the application must not touch the event (or related memory buffers) after calling it.</p>
<p>The application must only free events it owns. For example, the sender must not free an event after sending it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>Event to be freed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d33/group__em__event.html#ga15a17cee0e5de5062e78f7db2b836761">em_alloc()</a>, <a class="el" href="../../d8/d5f/group__em__eo.html#ga63161b6f46fb08a1708bad6c1fde2622">em_receive_func_t()</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../dd/d24/atomic_processing_end_8c-example.html#a35">atomic_processing_end.c</a>, <a class="el" href="../../d9/d6a/dispatcher_callback_8c-example.html#a45">dispatcher_callback.c</a>, <a class="el" href="../../d9/d32/error_8c-example.html#a33">error.c</a>, <a class="el" href="../../d5/d77/event_group_8c-example.html#a45">event_group.c</a>, <a class="el" href="../../d0/dba/event_group_abort_8c-example.html#a18">event_group_abort.c</a>, <a class="el" href="../../da/daa/event_group_assign_end_8c-example.html#a44">event_group_assign_end.c</a>, <a class="el" href="../../d4/d81/event_group_chaining_8c-example.html#a44">event_group_chaining.c</a>, <a class="el" href="../../d1/d25/fractal_8c-example.html#a28">fractal.c</a>, <a class="el" href="../../d5/dfc/hello_8c-example.html#a40">hello.c</a>, <a class="el" href="../../d4/d14/ordered_8c-example.html#a32">ordered.c</a>, <a class="el" href="../../d7/dbc/pairs_8c-example.html#a28">pairs.c</a>, <a class="el" href="../../d8/dc3/queue_group_8c-example.html#a40">queue_group.c</a>, <a class="el" href="../../d6/dd3/queue_groups_8c-example.html#a48">queue_groups.c</a>, <a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a48">queue_types_ag.c</a>, <a class="el" href="../../db/dcf/queue_types_local_8c-example.html#a50">queue_types_local.c</a>, <a class="el" href="../../d6/d76/queues_8c-example.html#a29">queues.c</a>, <a class="el" href="../../d0/d69/queues_local_8c-example.html#a30">queues_local.c</a>, <a class="el" href="../../d1/ddd/queues_unscheduled_8c-example.html#a23">queues_unscheduled.c</a>, <a class="el" href="../../de/daa/send_multi_8c-example.html#a23">send_multi.c</a>, <a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a55">timer_hello.c</a>, and <a class="el" href="../../dd/d10/timer_test_8c-example.html#a53">timer_test.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="../../da/d32/event__machine__event_8c_source.html#l00090">90</a> of file <a class="el" href="../../da/d32/event__machine__event_8c_source.html">event_machine_event.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaca4584a01b71429dfbb045342454b464"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_send </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_queue_t&#160;</td>
          <td class="paramname"><em>queue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send an event to a queue.</p>
<p>The event must have been allocated with <a class="el" href="../../d5/d33/group__em__event.html#ga15a17cee0e5de5062e78f7db2b836761">em_alloc()</a>, or received via an EO receive-function. The sender must not touch the event after calling <a class="el" href="../../d5/d33/group__em__event.html#gaca4584a01b71429dfbb045342454b464">em_send()</a> as the ownership has been transferred to the system or possibly to the next receiver. If the return status is <em>not</em> EM_OK, the ownership has not been transferred and the application is still responsible for the event (e.g. may free it).</p>
<p>EM does not currently define guaranteed event delivery, i.e. EM_OK return value only means the event was accepted for delivery. It could still be lost during delivery (e.g. due to a removed queue or system congestion, etc).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>Event to be sent </td></tr>
    <tr><td class="paramname">queue</td><td>Destination queue</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EM_OK if successful (accepted for delivery).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d33/group__em__event.html#ga15a17cee0e5de5062e78f7db2b836761">em_alloc()</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../dd/d24/atomic_processing_end_8c-example.html#a27">atomic_processing_end.c</a>, <a class="el" href="../../d9/d6a/dispatcher_callback_8c-example.html#a42">dispatcher_callback.c</a>, <a class="el" href="../../d9/d32/error_8c-example.html#a27">error.c</a>, <a class="el" href="../../d5/d77/event_group_8c-example.html#a31">event_group.c</a>, <a class="el" href="../../d0/dba/event_group_abort_8c-example.html#a39">event_group_abort.c</a>, <a class="el" href="../../da/daa/event_group_assign_end_8c-example.html#a26">event_group_assign_end.c</a>, <a class="el" href="../../d4/d81/event_group_chaining_8c-example.html#a31">event_group_chaining.c</a>, <a class="el" href="../../d1/d25/fractal_8c-example.html#a51">fractal.c</a>, <a class="el" href="../../d5/dfc/hello_8c-example.html#a36">hello.c</a>, <a class="el" href="../../d4/d14/ordered_8c-example.html#a28">ordered.c</a>, <a class="el" href="../../d7/dbc/pairs_8c-example.html#a29">pairs.c</a>, <a class="el" href="../../d8/dc3/queue_group_8c-example.html#a58">queue_group.c</a>, <a class="el" href="../../d6/dd3/queue_groups_8c-example.html#a45">queue_groups.c</a>, <a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a35">queue_types_ag.c</a>, <a class="el" href="../../db/dcf/queue_types_local_8c-example.html#a40">queue_types_local.c</a>, <a class="el" href="../../d6/d76/queues_8c-example.html#a25">queues.c</a>, <a class="el" href="../../d0/d69/queues_local_8c-example.html#a26">queues_local.c</a>, <a class="el" href="../../d1/ddd/queues_unscheduled_8c-example.html#a29">queues_unscheduled.c</a>, and <a class="el" href="../../de/daa/send_multi_8c-example.html#a29">send_multi.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="../../da/d32/event__machine__event_8c_source.html#l00137">137</a> of file <a class="el" href="../../da/d32/event__machine__event_8c_source.html">event_machine_event.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac9638f26de144eaddb6adbc00d808501"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int em_send_multi </td>
          <td>(</td>
          <td class="paramtype">em_event_t *const&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_queue_t&#160;</td>
          <td class="paramname"><em>queue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send multiple events to a queue.</p>
<p>As em_send, but multiple events can be sent with one call for potential performance gain. The function returns the number of events actually sent. A return value equal to the given 'num' means that all events were sent. A return value less than 'num' means that only the first 'num' events were sent and the rest must be handled by the application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td>List of events to be sent (i.e. ptr to array of events) </td></tr>
    <tr><td class="paramname">num</td><td>Number of events (positive integer) </td></tr>
    <tr><td class="paramname">queue</td><td>Destination queue</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of events successfully sent (equal to num if all successful)</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d33/group__em__event.html#gaca4584a01b71429dfbb045342454b464">em_send()</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../dd/d24/atomic_processing_end_8c-example.html#a34">atomic_processing_end.c</a>, <a class="el" href="../../d1/d25/fractal_8c-example.html#a44">fractal.c</a>, <a class="el" href="../../d4/d14/ordered_8c-example.html#a34">ordered.c</a>, <a class="el" href="../../d7/dbc/pairs_8c-example.html#a22">pairs.c</a>, <a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a46">queue_types_ag.c</a>, <a class="el" href="../../db/dcf/queue_types_local_8c-example.html#a48">queue_types_local.c</a>, <a class="el" href="../../d1/ddd/queues_unscheduled_8c-example.html#a32">queues_unscheduled.c</a>, and <a class="el" href="../../de/daa/send_multi_8c-example.html#a32">send_multi.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="../../da/d32/event__machine__event_8c_source.html#l00242">242</a> of file <a class="el" href="../../da/d32/event__machine__event_8c_source.html">event_machine_event.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
  <div id="footer" class="tabs">
   <div class="headertitle"> 
     &copy; 2017 Nokia Networks
   </div>
  </div>
 </body>
</html>
